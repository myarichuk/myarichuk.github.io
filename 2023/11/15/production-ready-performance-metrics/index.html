<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>'Production Ready' Non-Negotiable: Performance Metrics | Graymatter Developer</title><meta name="author" content="Michael Yarichuk"><meta name="copyright" content="Michael Yarichuk"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Here’s a curious challenge I faced at Hibernating Rhinos, as part of the core team for the NoSQL database - RavenDB. We received a support ticket that was puzzling: why was a query, pulling roughly 10">
<meta property="og:type" content="article">
<meta property="og:title" content="&#39;Production Ready&#39; Non-Negotiable: Performance Metrics">
<meta property="og:url" content="https://www.graymatterdeveloper.com/2023/11/15/production-ready-performance-metrics/index.html">
<meta property="og:site_name" content="Graymatter Developer">
<meta property="og:description" content="Here’s a curious challenge I faced at Hibernating Rhinos, as part of the core team for the NoSQL database - RavenDB. We received a support ticket that was puzzling: why was a query, pulling roughly 10">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://www.graymatterdeveloper.com/2023/11/15/production-ready-performance-metrics/production-ready-performance.jpg">
<meta property="article:published_time" content="2023-11-15T17:43:55.000Z">
<meta property="article:modified_time" content="2023-11-15T17:43:55.000Z">
<meta property="article:author" content="Michael Yarichuk">
<meta property="article:tag" content="Software Engineering">
<meta property="article:tag" content="Theory">
<meta property="article:tag" content="DevOps">
<meta property="article:tag" content="Production-Ready">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.graymatterdeveloper.com/2023/11/15/production-ready-performance-metrics/production-ready-performance.jpg"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://www.graymatterdeveloper.com/2023/11/15/production-ready-performance-metrics/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-125949801-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-125949801-1');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '\'Production Ready\' Non-Negotiable: Performance Metrics',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-11-15 17:43:55'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="Graymatter Developer" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://avatars.githubusercontent.com/u/1473701" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">15</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tag"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw fa fa-envelope-open"></i><span> Contact</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/2023/11/15/production-ready-performance-metrics/production-ready-performance.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Graymatter Developer"><span class="site-name">Graymatter Developer</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tag"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw fa fa-envelope-open"></i><span> Contact</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">'Production Ready' Non-Negotiable: Performance Metrics</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-11-15T17:43:55.000Z" title="Created 2023-11-15 17:43:55">2023-11-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-11-15T17:43:55.000Z" title="Updated 2023-11-15 17:43:55">2023-11-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Programming/">Programming</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Programming/Best-Practices/">Best Practices</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="'Production Ready' Non-Negotiable: Performance Metrics"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>Here’s a curious challenge I faced at Hibernating Rhinos, as part of the core team for the <a target="_blank" rel="noopener" href="https://ravendb.net/">NoSQL database - RavenDB</a>. We received a support ticket that was puzzling: why was a query, pulling roughly 100 results, taking several seconds to complete? This was odd, especially given the database’s modest size and the use of a local network.</p>
<h3 id="Investigation-Kicks-Off"><a href="#Investigation-Kicks-Off" class="headerlink" title="Investigation Kicks Off"></a>Investigation Kicks Off</h3><p>This conundrum landed on my desk. Fortunately, I was able to replicate the issue on my system. My first step? Checking the query’s performance metrics. Surprisingly, the query itself was fast, efficiently processing and delivering results.</p>
<img src="/2023/11/15/production-ready-performance-metrics/time_on_server.png" class="" title="Alt query time spent in-server">

<h3 id="Uncovering-More-Clues"><a href="#Uncovering-More-Clues" class="headerlink" title="Uncovering More Clues"></a>Uncovering More Clues</h3><p>Next, I turned to Fiddler to inspect the query (RavenDB uses REST, so Fiddler’s a handy proxy for debugging). And there it was: a crucial hint.</p>
<img src="/2023/11/15/production-ready-performance-metrics/latency.jpg" class="" title="Alt latency in fiddler output">

<p>The query result contained a hundred documents, totaling a hefty three megabytes. That was the root of the latency issue. Being able to replicate the problem locally simplified my investigation. But, let’s be honest, not all production issues are this accommodating. Without historical performance data, pinpointing issues like data size, network glitches, workflow inefficiencies, or clunky database queries would be akin to a needle-in-a-haystack scenario.</p>
<p>The good news? Once we identified the bottleneck, the solution was straightforward. We advised the customer to add a projection to their query. They really needed only 2 of the 60 fields per document. This small change reduced the data payload significantly, slashing query latency by over 90%.</p>
<h3 id="Why-Bother-With-Performance-Metrics"><a href="#Why-Bother-With-Performance-Metrics" class="headerlink" title="Why Bother With Performance Metrics?"></a>Why Bother With Performance Metrics?</h3><p>This anecdote, I hope, highlights the significance of performance metrics, particularly those that archive historical data. But there’s more to it. Performance metrics are invaluable not only for troubleshooting but also for enhancing cost-efficiency, especially in cloud environments. Reducing data transfers can significantly cut operational expenses, a crucial factor considering the hefty costs often associated with cloud services.</p>
<h3 id="A-Word-on-User-Experience"><a href="#A-Word-on-User-Experience" class="headerlink" title="A Word on User Experience"></a>A Word on User Experience</h3><p>And don’t forget about user experience. Faster, more responsive software means a smoother, more satisfying experience for users. Ultimately, that’s what we’re all aiming for, right?</p>
<h3 id="Performance-Metrics-vs-Monitoring"><a href="#Performance-Metrics-vs-Monitoring" class="headerlink" title="Performance Metrics vs. Monitoring"></a>Performance Metrics vs. Monitoring</h3><p>In the <a href="https://www.graymatterdeveloper.com/2023/11/14/production-ready-logging-monitoring/">previous post</a>, we talked about monitoring. But performance metrics are a different ball game.</p>
<p>Here’s a common confusion (I’ve been there too): mixing up monitoring and performance metrics. Yes, both are crucial, but they’re distinct. Monitoring is like your software’s regular health checkup, keeping tabs on critical stuff like disk and memory usage. It’s the dashboard in your car, warning you of potential issues and giving you a general health update.</p>
<p>Performance metrics, on the other hand, are about measuring your software’s efficiency. How quickly does it handle requests? Can it cope with heavy traffic? These metrics are your deep-dive into your software’s performance, showing you exactly where to tweak and improve.</p>
<p>In short, monitoring watches over your software’s daily health, while performance metrics are your go-to for optimization and solving performance bottlenecks. Both are essential for your software to be truly production-ready.</p>
<h2 id="Looking-Ahead"><a href="#Looking-Ahead" class="headerlink" title="Looking Ahead"></a>Looking Ahead</h2><p>Next up, we’ll delve into the third non-negotiable: memory dumps and related tools, discussing their importance and impact.</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Software-Engineering/">Software Engineering</a><a class="post-meta__tags" href="/tags/Theory/">Theory</a><a class="post-meta__tags" href="/tags/DevOps/">DevOps</a><a class="post-meta__tags" href="/tags/Production-Ready/">Production-Ready</a></div><div class="post_share"><div class="addtoany"><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_copy_link"></a><a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a></div></div><script async="async" src="https://static.addtoany.com/menu/page.js"></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2023/11/14/production-ready-logging-monitoring/" title="'Production Ready' Non-Negotiable: Structured Logging and Monitoring"><img class="cover" src="/2023/11/14/production-ready-logging-monitoring/production-ready-2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">'Production Ready' Non-Negotiable: Structured Logging and Monitoring</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://avatars.githubusercontent.com/u/1473701" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Michael Yarichuk</div><div class="author-info__description">A place to share steps in my journey to become a better professional</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">15</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/myarichuk"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/myarichuk" target="_blank" title=""><i class="fa-brands fa-github"></i></a><a class="social-icon" href="mailto:michael.yarichuk@gmail.com" target="_blank" title=""><i class="fa fa-envelope"></i></a><a class="social-icon" href="https://twitter.com/myarichuk" target="_blank" title=""><i class="fa-brands fa-twitter"></i></a><a class="social-icon" href="https://www.linkedin.com/in/myarichuk/" target="_blank" title=""><i class="fa-brands fa-linkedin"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title=""><i class="fa fa-rss"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Investigation-Kicks-Off"><span class="toc-number">1.</span> <span class="toc-text">Investigation Kicks Off</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Uncovering-More-Clues"><span class="toc-number">2.</span> <span class="toc-text">Uncovering More Clues</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Why-Bother-With-Performance-Metrics"><span class="toc-number">3.</span> <span class="toc-text">Why Bother With Performance Metrics?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#A-Word-on-User-Experience"><span class="toc-number">4.</span> <span class="toc-text">A Word on User Experience</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Performance-Metrics-vs-Monitoring"><span class="toc-number">5.</span> <span class="toc-text">Performance Metrics vs. Monitoring</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Looking-Ahead"><span class="toc-number"></span> <span class="toc-text">Looking Ahead</span></a></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/11/15/production-ready-performance-metrics/" title="'Production Ready' Non-Negotiable: Performance Metrics"><img src="/2023/11/15/production-ready-performance-metrics/production-ready-performance.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="'Production Ready' Non-Negotiable: Performance Metrics"/></a><div class="content"><a class="title" href="/2023/11/15/production-ready-performance-metrics/" title="'Production Ready' Non-Negotiable: Performance Metrics">'Production Ready' Non-Negotiable: Performance Metrics</a><time datetime="2023-11-15T17:43:55.000Z" title="Created 2023-11-15 17:43:55">2023-11-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/14/production-ready-logging-monitoring/" title="'Production Ready' Non-Negotiable: Structured Logging and Monitoring"><img src="/2023/11/14/production-ready-logging-monitoring/production-ready-2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="'Production Ready' Non-Negotiable: Structured Logging and Monitoring"/></a><div class="content"><a class="title" href="/2023/11/14/production-ready-logging-monitoring/" title="'Production Ready' Non-Negotiable: Structured Logging and Monitoring">'Production Ready' Non-Negotiable: Structured Logging and Monitoring</a><time datetime="2023-11-14T23:00:00.000Z" title="Created 2023-11-14 23:00:00">2023-11-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/14/production-ready-intro/" title="Production-Ready Software: Introduction"><img src="/2023/11/14/production-ready-intro/production_ready_background.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Production-Ready Software: Introduction"/></a><div class="content"><a class="title" href="/2023/11/14/production-ready-intro/" title="Production-Ready Software: Introduction">Production-Ready Software: Introduction</a><time datetime="2023-11-14T19:15:48.000Z" title="Created 2023-11-14 19:15:48">2023-11-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/10/responsibility-chain/" title="Taming Complexity with Responsibility"><img src="/2023/11/10/responsibility-chain/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Taming Complexity with Responsibility"/></a><div class="content"><a class="title" href="/2023/11/10/responsibility-chain/" title="Taming Complexity with Responsibility">Taming Complexity with Responsibility</a><time datetime="2023-11-10T23:00:00.000Z" title="Created 2023-11-10 23:00:00">2023-11-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/09/ecs-intro/" title="From Inheritance Hell to Component Heaven, the ECS Pattern"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="From Inheritance Hell to Component Heaven, the ECS Pattern"/></a><div class="content"><a class="title" href="/2023/11/09/ecs-intro/" title="From Inheritance Hell to Component Heaven, the ECS Pattern">From Inheritance Hell to Component Heaven, the ECS Pattern</a><time datetime="2023-11-09T23:00:00.000Z" title="Created 2023-11-09 23:00:00">2023-11-09</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Michael Yarichuk</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://www.graymatterdeveloper.com/2023/11/15/production-ready-performance-metrics/'
    this.page.identifier = '/2023/11/15/production-ready-performance-metrics/'
    this.page.title = '\'Production Ready\' Non-Negotiable: Performance Metrics'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://graymatterdeveloperblog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }

  document.getElementById('darkmode').addEventListener('click', () => {
    setTimeout(() => window.disqusReset(), 200)
  })
}

if ('Disqus' === 'Disqus' || !false) {
  if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-R5G4WP4QCQ"></script><script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-R5G4WP4QCQ') </script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>